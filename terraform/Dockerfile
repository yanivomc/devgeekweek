FROM amazon/aws-cli
LABEL maintainer="Yanivomc Devopshift - Custom build for hashicorp terraform"
#RUN base64 -d <<<"IC8kJCQkJCQkICAvJCQkJCQkJCQgLyQkICAgIC8kJCAgLyQkJCQkJCAgLyQkJCQkJCQgICAvJCQkJCQkICAvJCQgICAvJCQgLyQkJCQkJCAvJCQkJCQkJCQgLyQkJCQkJCQkICAgICAgICAvJCQkJCQkICAvJCQkJCQkJCQgLyQkJCQkJCAgIC8kJCQkJCQgIC8kJCAgIC8kJAp8ICQkX18gICQkfCAkJF9fX19fL3wgJCQgICB8ICQkIC8kJF9fICAkJHwgJCRfXyAgJCQgLyQkX18gICQkfCAkJCAgfCAkJHxfICAkJF8vfCAkJF9fX19fL3xfXyAgJCRfXy8gICAgICAgLyQkX18gICQkfF9fICAkJF9fLy8kJF9fICAkJCAvJCRfXyAgJCR8ICQkICAvJCQvCnwgJCQgIFwgJCR8ICQkICAgICAgfCAkJCAgIHwgJCR8ICQkICBcICQkfCAkJCAgXCAkJHwgJCQgIFxfXy98ICQkICB8ICQkICB8ICQkICB8ICQkICAgICAgICAgfCAkJCAgICAgICAgIHwgJCQgIFxfXy8gICB8ICQkICB8ICQkICBcICQkfCAkJCAgXF9fL3wgJCQgLyQkLyAKfCAkJCAgfCAkJHwgJCQkJCQgICB8ICAkJCAvICQkL3wgJCQgIHwgJCR8ICQkJCQkJCQvfCAgJCQkJCQkIHwgJCQkJCQkJCQgIHwgJCQgIHwgJCQkJCQgICAgICB8ICQkICAgICAgICAgfCAgJCQkJCQkICAgIHwgJCQgIHwgJCQkJCQkJCR8ICQkICAgICAgfCAkJCQkJC8gIAp8ICQkICB8ICQkfCAkJF9fLyAgICBcICAkJCAkJC8gfCAkJCAgfCAkJHwgJCRfX19fLyAgXF9fX18gICQkfCAkJF9fICAkJCAgfCAkJCAgfCAkJF9fLyAgICAgIHwgJCQgICAgICAgICAgXF9fX18gICQkICAgfCAkJCAgfCAkJF9fICAkJHwgJCQgICAgICB8ICQkICAkJCAgCnwgJCQgIHwgJCR8ICQkICAgICAgICBcICAkJCQvICB8ICQkICB8ICQkfCAkJCAgICAgICAvJCQgIFwgJCR8ICQkICB8ICQkICB8ICQkICB8ICQkICAgICAgICAgfCAkJCAgICAgICAgICAvJCQgIFwgJCQgICB8ICQkICB8ICQkICB8ICQkfCAkJCAgICAkJHwgJCRcICAkJCAKfCAkJCQkJCQkL3wgJCQkJCQkJCQgICBcICAkLyAgIHwgICQkJCQkJC98ICQkICAgICAgfCAgJCQkJCQkL3wgJCQgIHwgJCQgLyQkJCQkJHwgJCQgICAgICAgICB8ICQkICAgICAgICAgfCAgJCQkJCQkLyAgIHwgJCQgIHwgJCQgIHwgJCR8ICAkJCQkJCQvfCAkJCBcICAkJAp8X19fX19fXy8gfF9fX19fX19fLyAgICBcXy8gICAgIFxfX19fX18vIHxfXy8gICAgICAgXF9fX19fXy8gfF9fLyAgfF9fL3xfX19fX18vfF9fLyAgICAgICAgIHxfXy8gICAgICAgICAgXF9fX19fXy8gICAgfF9fLyAgfF9fLyAgfF9fLyBcX19fX19fLyB8X18vICBcX18vCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg" && sleep 3
RUN curl -LO https://github.com/kubernetes/kops/releases/download/$(curl -s https://api.github.com/repos/kubernetes/kops/releases/latest | grep tag_name | cut -d '"' -f 4)/kops-linux-amd64 && \
chmod +x kops-linux-amd64 && \
mv kops-linux-amd64 /usr/bin/kops 
RUN curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl && \
chmod +x ./kubectl && \
mv ./kubectl /usr/local/bin/kubectl
RUN yum install unzip -y
RUN curl -LO https://releases.hashicorp.com/terraform/0.11.14/terraform_0.11.14_linux_386.zip && \
unzip terraform_0.11.14_linux_386.zip && \
chmod +x terraform && \
mv terraform /usr/bin/
WORKDIR /root/.ssh/
COPY id_rsa.pub ./
WORKDIR /root/.aws/
COPY ./credentials .
WORKDIR /terraform
COPY . .
#RUN /bin/bash scripts/build.sh

